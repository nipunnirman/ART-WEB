<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gift Box Selection</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="giftbox.css">
</head>
<body>
  <!-- Bootstrap Bundle with Popper (required for navbar toggler) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Add this inside the <body> of each page -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
    <div class="container">
      <a class="navbar-brand" href="index.html">Through My Pencil</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
  
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="giftbox.html">Gift Box</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="art.html">Gallery</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="price.html">Price List</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  
  <div class="container py-5">
    <h2 class="text-center mb-4">üéÅ Customize Your Gift Box</h2>
    <div class="row">
      <!-- Men's Options -->
      <div class="col-md-6">
        <h4>For Men</h4>

        <!-- Portrait -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="3000" id="menPortrait" data-name="Portrait Art (Men)">
          <label class="form-check-label d-flex align-items-center" for="menPortrait">
            <img src="image/475130572_910420704624348_4596929567899934165_n.jpg" alt="Portrait Art" class="product-img me-3" 
                > 
            Portrait Art - Rs.3000
          </label>
        </div>

        <!-- A4 or A3 Size -->
        <div class="form-check my-3">
          <div class="size-selector">
            <select class="form-select gift-option" id="menSize" data-name="Size (Men)">
              <option value="0" data-item="">Select Size</option>
              <option value="500" data-item="A4 Size">A4 - Rs.500</option>
              <option value="1000" data-item="A3 Size">A3 - Rs.1000</option>
            </select>
          </div>
        </div>

        <!-- Frame -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="800" id="menFrame" data-name="Frame (Men)">
          <label class="form-check-label d-flex align-items-center" for="menFrame">
            <img src="image/frame.jpeg" alt="Frame" class="product-img me-3" 
                 > 
            Frame - Rs.800
          </label>
        </div>

        <!-- Watch -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1500" id="menWatch" data-name="Watch (Men)">
          <label class="form-check-label d-flex align-items-center" for="menWatch">
            <img src="image/watch.webp" alt="Men's Watch" class="product-img me-3" 
                 > 
            Watch - Rs.1500
          </label>
        </div>

        <!-- Belt -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1200" id="menBelt" data-name="Belt (Men)">
          <label class="form-check-label d-flex align-items-center" for="menBelt">
            <img src="image/belt.jpeg" alt="Men's Belt" class="product-img me-3" 
                 > 
            Belt - Rs.1200
          </label>
        </div>

        <!-- Perfume (Gold) -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1800" id="menPerfume" data-name="Perfume Gold (Men)">
          <label class="form-check-label d-flex align-items-center" for="menPerfume">
            <img src="image/perfume.jpg.avif" alt="Gold Perfume" class="product-img me-3" 
                 > 
            Perfume (Gold) - Rs.1800
          </label>
        </div>

        <!-- Journal -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="500" id="menJournal" data-name="Journal Book (Men)">
          <label class="form-check-label d-flex align-items-center" for="menJournal">
            <img src="image/journal.jpg.webp" alt="Journal Book" class="product-img me-3" 
                 > 
            Journal Book - Rs.500
          </label>
        </div>
      </div>

      <!-- Women's Options -->
      <div class="col-md-6">
        <h4>For Women</h4>

        <!-- Portrait -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="3000" id="womenPortrait" data-name="Portrait Art (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenPortrait">
            <img src="image/p1.JPEG" alt="Portrait Art" class="product-img me-3" 
               > 
            Portrait Art - Rs.3000
          </label>
        </div>

        <!-- A4 or A3 Size -->
        <div class="form-check my-3">
          <div class="size-selector">
            <select class="form-select gift-option" id="womenSize" data-name="Size (Women)">
              <option value="0" data-item="">Select Size</option>
              <option value="500" data-item="A4 Size">A4 - Rs.500</option>
              <option value="1000" data-item="A3 Size">A3 - Rs.1000</option>
            </select>
          </div>
        </div>

        <!-- Frame -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="800" id="womenFrame" data-name="Frame (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenFrame">
            <img src="image/frame.jpeg" alt="Frame" class="product-img me-3" 
                 > 
            Frame - Rs.800
          </label>
        </div>

        <!-- Watch -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1500" id="womenWatch" data-name="Watch (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenWatch">
            <img src="image/watch.webp" alt="Women's Watch" class="product-img me-3" 
                 > 
            Watch - Rs.1500
          </label>
        </div>

        <!-- Belt -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1200" id="womenBelt" data-name="Belt (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenBelt">
            <img src="image/belt.jpeg" alt="Women's Belt" class="product-img me-3" 
                > 
            Belt - Rs.1200
          </label>
        </div>

        <!-- Perfume (Goya) -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="1800" id="womenPerfume" data-name="Perfume Goya (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenPerfume">
            <img src="image/perfume.jpg.avif" alt="Goya Perfume" class="product-img me-3" 
                 > 
            Perfume (Goya) - Rs.1800
          </label>
        </div>

        <!-- Journal -->
        <div class="form-check my-3">
          <input class="form-check-input gift-option" type="checkbox" value="500" id="womenJournal" data-name="Journal Book (Women)">
          <label class="form-check-label d-flex align-items-center" for="womenJournal">
            <img src="image/journal.jpg.webp" alt="Journal Book" class="product-img me-3" 
                 > 
            Journal Book - Rs.500
          </label>
        </div>
      </div>
    </div>

    <!-- Total Price -->
    <div class="text-center mt-5">
      <h4>Total Price: Rs.<span id="totalPrice">0</span> (Delivery & Packaging Free)</h4>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons text-center">
      <h5 class="mb-4">Share Your Selection</h5>
      <button class="download-btn" onclick="downloadSummary()">
        üì• Download Summary
      </button>
      <a href="https://wa.me/+94757105455" class="whatsapp-btn" id="whatsappBtn" onclick="sendToWhatsApp()">
        üì± Send to WhatsApp
      </a>
    </div>
  </div>

  <!-- Hidden canvas for generating image -->
  <canvas id="summaryCanvas" style="display: none;"></canvas>

  <!-- JS -->
  <script>
    const giftOptions = document.querySelectorAll('.gift-option');
    const totalDisplay = document.getElementById('totalPrice');
    let selectedItems = [];

    function calculateTotal() {
      let total = 0;
      selectedItems = [];

      giftOptions.forEach(option => {
        if (option.type === 'checkbox' && option.checked) {
          total += parseInt(option.value);
          selectedItems.push({
            name: option.dataset.name,
            price: parseInt(option.value)
          });
        }
        if (option.tagName === 'SELECT' && option.value !== '0') {
          total += parseInt(option.value);
          const selectedOption = option.options[option.selectedIndex];
          selectedItems.push({
            name: option.dataset.name + ' - ' + selectedOption.dataset.item,
            price: parseInt(option.value)
          });
        }
      });

      totalDisplay.textContent = total;
    }

    function generateSummaryImage() {
      const canvas = document.getElementById('summaryCanvas');
      const ctx = canvas.getContext('2d');
      
      // Set canvas size
      canvas.width = 600;
      canvas.height = 400 + (selectedItems.length * 30);
      
      // Background
      ctx.fillStyle = '#f7f3ec';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Header
      ctx.fillStyle = '#3e3e3e';
      ctx.font = 'bold 24px Arial';
      ctx.textAlign = 'center';
      ctx.fillText('üéÅ Gift Box Summary', canvas.width/2, 40);
      
      // Date
      ctx.font = '14px Arial';
      ctx.fillText(new Date().toLocaleDateString(), canvas.width/2, 70);
      
      // Items
      ctx.textAlign = 'left';
      ctx.font = '16px Arial';
      let yPosition = 120;
      
      if (selectedItems.length === 0) {
        ctx.fillStyle = '#999';
        ctx.fillText('No items selected', 50, yPosition);
      } else {
        selectedItems.forEach((item, index) => {
          ctx.fillStyle = '#3e3e3e';
          ctx.fillText(`${index + 1}. ${item.name}`, 50, yPosition);
          ctx.fillStyle = '#a3b18a';
          ctx.textAlign = 'right';
          ctx.fillText(`Rs.${item.price}`, canvas.width - 50, yPosition);
          ctx.textAlign = 'left';
          yPosition += 30;
        });
        
        // Total
        yPosition += 20;
        ctx.strokeStyle = '#a3b18a';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(50, yPosition);
        ctx.lineTo(canvas.width - 50, yPosition);
        ctx.stroke();
        
        yPosition += 30;
        ctx.fillStyle = '#3e3e3e';
        ctx.font = 'bold 18px Arial';
        ctx.fillText('Total:', 50, yPosition);
        ctx.fillStyle = '#a3b18a';
        ctx.textAlign = 'right';
        ctx.fillText(`Rs.${totalDisplay.textContent}`, canvas.width - 50, yPosition);
        
        yPosition += 40;
        ctx.textAlign = 'center';
        ctx.fillStyle = '#666';
        ctx.font = '14px Arial';
        ctx.fillText('(Delivery & Packaging Free)', canvas.width/2, yPosition);
      }
      
      return canvas.toDataURL('image/png');
    }

    function downloadSummary() {
      const imageData = generateSummaryImage();
      const link = document.createElement('a');
      link.download = `gift-box-summary-${new Date().toISOString().split('T')[0]}.png`;
      link.href = imageData;
      link.click();
    }

    function sendToWhatsApp() {
      let message = "üéÅ *Gift Box Selection Summary*\n\n";
      
      if (selectedItems.length === 0) {
        message += "No items selected yet.\n";
      } else {
        selectedItems.forEach((item, index) => {
          message += `${index + 1}. ${item.name} - Rs.${item.price}\n`;
        });
        message += `\n*Total: Rs.${totalDisplay.textContent}*\n`;
        message += "(Delivery & Packaging Free)\n\n";
      }
      
      message += "Please confirm my order and let me know the next steps! üòä";
      
      const encodedMessage = encodeURIComponent(message);
      const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
      window.open(whatsappUrl, '_blank');
    }

    giftOptions.forEach(option => {
      option.addEventListener('change', calculateTotal);
    });

    // Initialize
    calculateTotal();
  </script>
</body>
</html>